summary(m1)
m1 <- glmmTMB(ending.weight ~  Size +brome + (1|Year) + (1|Site), data = seeds)
summary(m1)
m1 <- glmmTMB(ending.weight ~  Size *brome + (1|Year) + (1|Site), data = seeds)
summary(m1)
emmeans(m1, pairwise ~ Size*brome)
m1 <- glmmTMB(ending.weight ~ Microsite +Year  + Visit + Size + brome+ (1|Site), data = seeds)
summary(m1)
car::Anova(m1)
m1 <- glmmTMB(ending.weight ~ Microsite +Year  + Visit + Size * brome+ (1|Site), data = seeds)
summary(m1)
m1 <- glmmTMB(ending.weight ~ Microsite  + Size + brome+ (1|Site) + (1|Year), data = seedspring)
seedspring <- filter(seeds, Visit == "Spring")
m1 <- glmmTMB(ending.weight ~ Microsite  + Size + brome+ (1|Site) + (1|Year), data = seedspring)
summary(m1)
car::Anova(m1)
m1 <- glmmTMB(ending.weight ~ Microsite  + Size * brome+ (1|Site) + (1|Year), data = seedspring)
summary(m1)
car::Anova(m1)
site <- read.csv("Raw Data/annuals/barstow.csv")
source("F:/Research/Projects/CH4_ant_seed_interactions/plantIDcleaner.R", echo=TRUE)
library(dplyr)
barstow <- read.csv("Raw Data/annuals/barstow.csv")
View(barstow)
names <- c(paste(colnames(barstow), barstow[[1,]]
names <- c(paste(colnames(barstow), barstow[[1,]])
names <- c(paste(colnames(barstow), barstow[[1,]])
names <- c(paste(colnames(barstow), barstow[[1,]]))
names_col <- colnames(barstow)
firstrow <- barstow[[1,]]
firstrow <- barstow[1,]
both <- paste(names_col, firstrow)
both
colnames(barstow) <- both
barstow <- pivot_longer(barstow, 7:65, names_to = "species", values_to = "abun")
barstow <- barstow[-1,]
barstow <- pivot_longer(barstow, 7:65, names_to = "species", values_to = "abun")
rlang::last_trace()
barstow <- as.character(barstow)
barstow <- pivot_longer(barstow, 7:65, names_to = "species", values_to = "abun")
barstow <- read.csv("Raw Data/annuals/barstow.csv")
names_col <- colnames(barstow)
firstrow <- barstow[1,]
both <- paste(names_col, firstrow)
colnames(barstow) <- both
barstow <- barstow[-1,]
str(barstow)
barstow <- as.numeric(barstow[,7:65])
sapply(barstow, class)
barstow <- mutate(across( where(is.character), ~ as.numeric(7:65) ) )
barstow <- mutate(across(where(is.character), ~ as.numeric(7:65) ) )
barstow <- mutate(across(7:65 as.numeric()))
barstow <- mutate(across(7:65 as.numeric()))
barstow <- mutate(across(7:65, as.numeric())
barstow <- mutate(across(7:65, as.numeric()))
barstow <- mutate(across(7:65, as.numeric()))
barstow <- barstow %>% mutate(across(7:65, as.numeric()))
barstow <- barstow %>% mutate(across(7:65, as.numeric))
cuyamas <- read.csv("Raw Data/annuals/cuyamas.csv")
names_col <- colnames(cuyamas)
firstrow <- cuyamas[1,]
both <- paste(names_col, firstrow)
colnames(cuyamas) <- both
cuyamas <- cuyamas[-1,]
str(cuyamas)
View(cuyamas)
cuyamas <- as.numeric(cuyamas[,7:81])
cuyamas <- pivot_longer(cuyamas, 7:81, names_to = "species", values_to = "abun")
cuyamas <- cuyamas %>% mutate(across(7:81, as.numeric))
cuyamas <- pivot_longer(cuyamas, 7:81, names_to = "species", values_to = "abun")
barstow <- pivot_longer(barstow, 7:65, names_to = "species", values_to = "abun")
heartofmojave <- read.csv("Raw Data/annuals/heartofmojave.csv")
names_col <- colnames(heartofmojave)
firstrow <- heartofmojave[1,]
both <- paste(names_col, firstrow)
colnames(heartofmojave) <- both
heartofmojave <- heartofmojave[-1,]
str(heartofmojave)
heartofmojave <- heartofmojave %>% mutate(across(7:73, as.numeric))
heartofmojave <- pivot_longer(heartofmojave, 7:73, names_to = "species", values_to = "abun")
sheephole <- read.csv("Raw Data/annuals/sheephole.csv")
names_col <- colnames(sheephole)
firstrow <- sheephole[1,]
both <- paste(names_col, firstrow)
colnames(sheephole) <- both
sheephole <- sheephole[-1,]
str(sheephole)
sheephole <- sheephole %>% mutate(across(7:71, as.numeric))
sheephole <- pivot_longer(sheephole, 7:71, names_to = "species", values_to = "abun")
tecopa <- read.csv("Raw Data/annuals/tecopa.csv")
names_col <- colnames(tecopa)
firstrow <- tecopa[1,]
both <- paste(names_col, firstrow)
colnames(tecopa) <- both
tecopa <- tecopa[-1,]
str(tecopa)
tecopa <- tecopa %>% mutate(across(7:34, as.numeric))
tecopa <- pivot_longer(tecopa, 7:34, names_to = "species", values_to = "abun")
yucca <- read.csv("Raw Data/annuals/yucca.csv")
names_col <- colnames(yucca)
firstrow <- yucca[1,]
both <- paste(names_col, firstrow)
colnames(yucca) <- both
yucca <- yucca[-1,]
str(yucca)
yucca <- yucca %>% mutate(across(7:72, as.numeric))
yucca <- pivot_longer(yucca, 7:72, names_to = "species", values_to = "abun")
allplants <- rbind(barstow, cuyamas, heartofmojave, sheephole, tecopa, yucca)
View(yucca)
View(barstow)
View(cuyamas)
View(heartofmojave)
View(heartofmojave)
View(sheephole)
View(tecopa)
tecopa <- rename(tecopa, 'ID.notes NA' = id.notes)
tecopa <- rename(tecopa, 'ID.notes NA' = ID.notes)
tecopa <- rename(tecopa, 'ID.notes NA' = "ID.notes")
tecopa <- rename(tecopa, 'ID.notes NA' = "ID.notes ")
allplants <- rbind(barstow, cuyamas, heartofmojave, sheephole, tecopa, yucca)
View(allplants)
allplants <- allplants %>% drop_na(abun)
View(allplants)
write.csv(allplants, "Raw Data/annuals/allplants.csv")
library(tidyr)
library(dplyr)
barstow <- read.csv("Raw Data/annuals/barstow.csv")
names_col <- colnames(barstow)
firstrow <- barstow[1,]
both <- paste(names_col, firstrow)
colnames(barstow) <- both
barstow <- barstow[-1,]
str(barstow)
barstow <- barstow %>% mutate(across(7:65, as.numeric))
barstow <- pivot_longer(barstow, 7:65, names_to = "species", values_to = "abun")
cuyamas <- read.csv("Raw Data/annuals/cuyamas.csv")
names_col <- colnames(cuyamas)
firstrow <- cuyamas[1,]
both <- paste(names_col, firstrow)
colnames(cuyamas) <- both
cuyamas <- cuyamas[-1,]
str(cuyamas)
cuyamas <- cuyamas %>% mutate(across(7:81, as.numeric))
cuyamas <- pivot_longer(cuyamas, 7:81, names_to = "species", values_to = "abun")
heartofmojave <- read.csv("Raw Data/annuals/heartofmojave.csv")
names_col <- colnames(heartofmojave)
firstrow <- heartofmojave[1,]
both <- paste(names_col, firstrow)
colnames(heartofmojave) <- both
heartofmojave <- heartofmojave[-1,]
str(heartofmojave)
heartofmojave <- heartofmojave %>% mutate(across(7:73, as.numeric))
heartofmojave <- pivot_longer(heartofmojave, 7:73, names_to = "species", values_to = "abun")
sheephole <- read.csv("Raw Data/annuals/sheephole.csv")
names_col <- colnames(sheephole)
firstrow <- sheephole[1,]
both <- paste(names_col, firstrow)
colnames(sheephole) <- both
sheephole <- sheephole[-1,]
str(sheephole)
sheephole <- sheephole %>% mutate(across(7:71, as.numeric))
sheephole <- pivot_longer(sheephole, 7:71, names_to = "species", values_to = "abun")
tecopa <- read.csv("Raw Data/annuals/tecopa.csv")
names_col <- colnames(tecopa)
firstrow <- tecopa[1,]
both <- paste(names_col, firstrow)
colnames(tecopa) <- both
tecopa <- tecopa[-1,]
str(tecopa)
tecopa <- tecopa %>% mutate(across(7:34, as.numeric))
tecopa <- pivot_longer(tecopa, 7:34, names_to = "species", values_to = "abun")
tecopa <- rename(tecopa, 'ID.notes NA' = "ID.notes ")
yucca <- read.csv("Raw Data/annuals/yucca.csv")
names_col <- colnames(yucca)
firstrow <- yucca[1,]
both <- paste(names_col, firstrow)
colnames(yucca) <- both
yucca <- yucca[-1,]
str(yucca)
yucca <- yucca %>% mutate(across(7:72, as.numeric))
yucca <- pivot_longer(yucca, 7:72, names_to = "species", values_to = "abun")
allplants <- rbind(barstow, cuyamas, heartofmojave, sheephole, tecopa, yucca)
allplants <- allplants %>% drop_na(abun)
write.csv(allplants, "Raw Data/annuals/allplants.csv")
all <- read.csv("Raw Data/annuals/allplants_IDed.csv")
uniq <- dplyr::unique(all, species)
library(tidyr)
library(dplyr)
uniq <- all %>% select(species) %>% unique()
View(uniq)
write.csv("Clean Data/annuallist.csv")
write.csv(uniq, "Clean Data/annuallist.csv")
plts <- read.csv("Raw Data/annuals/allplants_IDed.csv")
library(dplyr)
library(ggplot2)
View(plts)
library(tidyr)
plt_wide <- plts %>% pivot_wider(names_from = species, values_from = abun)
View(plt_wide)
library(dplyr)
library(ggplot2)
library(tidyr)
arth <- read.csv("Raw Data/pitfall.csv")
ants <- dplyr::filter(arth, Family == "Formicidae")
sum(ants$count)
arth <- read.csv("Raw Data/pitfall_arthropods.csv")
ants <- dplyr::filter(arth, Family == "Formicidae")
sum(ants$count)
sp <- ants %>% group_by(Genus, Species) %>% summarize(sum(count))
View(arth)
arth2 <- read.csv("Raw Data/pitfall_arthropods.csv")
arth2 <- read.csv("Raw Data/pitfall_arth.csv")
ants <- dplyr::filter(arth2, Family == "Formicidae")
sum(ants$count)
sp <- ants %>% group_by(Genus, Species) %>% summarize(sum(count))
View(sp)
write.csv("arth2", "Raw Data/ants_only")
write.csv("arth2", "Raw Data/ants_only.csv")
write.csv(arth2, "Raw Data/ants_only.csv")
write.csv(ants, "Raw Data/ants_only.csv")
library(dplyr)
library(ggplot2)
library(tidyr)
View(plts)
View(plt_wide)
library(dplyr)
library(ggplot2)
library(tidyr)
View(barstow)
plts <- read.csv("Raw Data/annuals/allplants_IDed.csv")
plt_wide <- plts %>% pivot_wider(names_from = species, values_from = abun)
reps <- read.csv("Raw Data/reps.csv")
View(plt_wide)
plt_wide <- select(plt_wide, -X)
plt_wide <- select(plt_wide, -6)
unique(plt_wide$Year.NA)
unique(plt_wide$Rep.NA)
unique(plt_wide$Site)
unique(plt_wide$microsite)
unique(plt_wide$Microsite)
plt_wide$uniID <- paste(plt_wide$Site, plt_wide$Year.NA, plt_wide$Microsite, plt_wide$Rep.NA)
plt_wide$uniID <- gsub(" ", "", plt_wide$uniID)
plt_wide[is.na[plt_wide]] <-
#import plant metadata for zero rows
reps <- read.csv("Raw Data/reps.csv")
plt_wide[is.na(plt_wide)] <- 0
env <- select(plt_wide, 1:5, uniID)
comm <- select(plt_wide, 6:91)
library(vegan)
richness <- specnumber(comm)
View(plts)
plts <- read.csv("Raw Data/annuals/allplants_IDed.csv")
plts <- select(plts, -X)
plt_wide <- plts %>% pivot_wider(names_from = species, values_from = abun)
View(plt_wide)
plts <- select(plts, -6)
plt_wide <- plts %>% pivot_wider(names_from = species, values_from = abun)
plts <- read.csv("Raw Data/annuals/allplants_IDed.csv")
plts <- select(plts, -X)
plts <- select(plts, -6)
plt_wide <- plts %>% pivot_wider(names_from = species, values_from = abun)
plt_wide$uniID <- paste(plt_wide$Site, plt_wide$Year.NA, plt_wide$Microsite, plt_wide$Rep.NA)
plt_wide$uniID <- gsub(" ", "", plt_wide$uniID)
plt_wide <- gsub("NULL", "0", plt_wide)
plts <- read.csv("Raw Data/annuals/allplants_IDed.csv")
plts <- select(plts, -X)
plts <- select(plts, -6)
unique(plt_wide$Year.NA)
plt_wide <- plts %>% pivot_wider(names_from = species, values_from = abun)
unique(plt_wide$Year.NA)
unique(plt_wide$Rep.NA)
unique(plt_wide$Site)
unique(plt_wide$Microsite)
plt_wide$uniID <- paste(plt_wide$Site, plt_wide$Year.NA, plt_wide$Microsite, plt_wide$Rep.NA)
plt_wide$uniID <- gsub(" ", "", plt_wide$uniID)
View(plt_wide)
plt_wide[is.null(plt_wide)] <- 0
View(plt_wide)
plt_wide[is.NULL(plt_wide)] <- 0
plt_wide[plt_wide=='NULL'] <- 0
plts <- read.csv("Raw Data/annuals/allplants_IDed.csv")
plts <- select(plts, -X)
plts <- select(plts, -6)
str(plts)
View(plt_wide)
plts <- read.csv("Raw Data/annuals/allplants_IDed.csv")
plts <- select(plts, -X)
plts <- select(plts, -6)
str(plts)
View(plts)
test <- distinct(plts)
plt_wide <- test %>% pivot_wider(names_from = species, values_from = abun)
View(plt_wide)
test <- distinct(plts)
plt_wide <- test %>% pivot_wider(names_from = species, values_from = abun)
test %>%
dplyr::group_by(Year.NA, Rep.NA, Site, Date, Microsite, species) %>%
dplyr::summarise(n = dplyr::n(), .groups = "drop") %>%
dplyr::filter(n > 1L)
dup <-test %>%
dplyr::group_by(Year.NA, Rep.NA, Site, Date, Microsite, species) %>%
dplyr::summarise(n = dplyr::n(), .groups = "drop") %>%
dplyr::filter(n > 1L)
View(dup)
plts <- read.csv("Raw Data/annuals/allplants_IDed.csv")
plts <- select(plts, -X)
plts <- select(plts, -6)
str(plts)
unique(plt_wide$Year.NA)
unique(plt_wide$Rep.NA)
unique(plt_wide$Site)
unique(plt_wide$Microsite)
plt_wide$uniID <- paste(plt_wide$Site, plt_wide$Year.NA, plt_wide$Microsite, plt_wide$Rep.NA)
plt_wide$uniID <- gsub(" ", "", plt_wide$uniID)
View(plt_wide)
plt_wide <- plts %>% pivot_wider(names_from = species, values_from = abun)
test <- distinct(plts)
dup <-plts %>%
dplyr::group_by(Year.NA, Rep.NA, Site, Date, Microsite, species) %>%
dplyr::summarise(n = dplyr::n(), .groups = "drop") %>%
dplyr::filter(n > 1L)
View(dup)
plts <- read.csv("Raw Data/annuals/allplants_IDed.csv")
plts <- select(plts, -X)
plts <- select(plts, -6)
str(plts)
plt_wide <- plts %>% pivot_wider(names_from = species, values_from = abun)
unique(plt_wide$Year.NA)
unique(plt_wide$Rep.NA)
unique(plt_wide$Site)
unique(plt_wide$Microsite)
plt_wide$uniID <- paste(plt_wide$Site, plt_wide$Year.NA, plt_wide$Microsite, plt_wide$Rep.NA)
plt_wide$uniID <- gsub(" ", "", plt_wide$uniID)
plt_wide[is.na(plt_wide)] <- 0
env <- select(plt_wide, 1:5, uniID)
comm <- select(plt_wide, 6:91)
library(vegan)
richness <- specnumber(comm)
abun <- rowSums(comm)
env$rich <- richness
env$abun <- abun
#import plant metadata for zero rows
reps <- read.csv("Raw Data/reps.csv")
View(reps)
reps <- filter(reps, season == "spring")
reps$uniID <- paste(reps$Site, reps$year, reps$Microsite, reps$Rep)
plt.ag <- left_join(reps, env, by = "uniID")
View(plt.ag)
reps$uniID <- gsub(" ", "", reps$uniID)
plt.ag <- left_join(reps, env, by = "uniID")
View(plt.ag)
plt.ag$rich[is.na(plt.ag$rich)] <- 0
plt.ag$abun[is.na(plt.ag$abun)] <- 0
ggplot(plt.ag, aes(Microsite, abun)) + geom_boxplot()
ggplot(plt.ag, aes(Microsite.x, abun)) + geom_boxplot()
ggplot(plt.ag, aes(Microsite.x, abun, fill = Site.x)) + geom_boxplot()
ggplot(plt.ag, aes(Site.x, abun, fill = Microsite.x)) + geom_boxplot()
ggplot(plt.ag, aes(Site.x, rich, fill = Microsite.x)) + geom_boxplot()
ggplot(plt.ag, aes(Site.x, rich, fill = Microsite.x, color = Year.x)) + geom_boxplot()
ggplot(plt.ag, aes(Site.x, rich, fill = Microsite.x, color = year)) + geom_boxplot()
ggplot(plt.ag, aes(Site.x, rich, fill = Microsite.x, color = as.factor(year))) + geom_boxplot()
arth2 <- read.csv("Raw Data/pitfall_arth.csv")
ants <- dplyr::filter(arth2, Family == "Formicidae")
View(ants)
bar <- filter(ants, site == "barstow")
bar <- filter(ants, site == "Barstow")
library(dplyr)
library(ggplot2)
library(tidyr)
bar <- filter(ants, site == "Barstow")
View(bar)
library(dplyr)
library(ggplot2)
library(tidyr)
library(glmmTMB)
m1 <- glmmTMB(abun ~ Microsite.x + (1|Site), family = "poisson", data = plt.ag)
m1 <- glmmTMB(abun ~ Microsite.x + (1|site), family = "poisson", data = plt.ag)
m1 <- glmmTMB(abun ~ Microsite.x + (1|Site.x), family = "poisson", data = plt.ag)
summary(m1)
m1 <- glmmTMB(rich ~ Microsite.x + (1|Site.x), family = "poisson", data = plt.ag)
summary(m1)
m1 <- glmmTMB(rich ~ Microsite.x + Site.x, family = "poisson", data = plt.ag)
summary(m1)
m1 <- glmmTMB(rich ~ Microsite.x * Site.x, family = "poisson", data = plt.ag)
summary(m1)
emmeans(Microsite.x~Site.x, m1)
library(emmeans)
emmeans(m1, pairwise ~ Microsite.x*Site.x)
# Load required libraries
# devtools::install_github("jslefche/piecewiseSEM@devel") # version 2.3.0
library(piecewiseSEM)
install.packages("piecewiseSEM")
# Load required libraries
devtools::install_github("jslefche/piecewiseSEM@devel") # version 2.3.0
library(piecewiseSEM)
library(lavaan)
# Load Keeley data set
data(keeley)
force(keeley)
# Break down component regressions
abiotic_model <- lm(abiotic ~ distance, data = keeley)
hetero_model <- lm(hetero ~ distance, data = keeley)
richness_model <- lm(rich ~ abiotic + hetero, data = keeley)
# Use the `psem` function to create the SEM
model <- psem(abiotic_model, hetero_model, richness_model)
# Look at object
model
plot(model)
seed2023 <- read.csv("Raw Data/seedrates2023.csv")
#526 put out
seed2023 <- filter(seed2023, ending.weight != "disturbed")
seed2023 <- filter(seed2023, ending.weight != "broken")
seed2023 <- filter(seed2023, ending.weight != "was never put out")
seed2023 <- select(seed2023, 1:7)
seed2024 <- read.csv("Raw Data/seedsrates2024.csv")
seed2024 <- filter(seed2024, ending.weight != "disturbed")
seed2024 <- filter(seed2024, ending.weight != "not put out" & ending.weight != "never put out")
seed2024$Site <- gsub("yucca", "HOM", seed2024$Site)
seeds <- rbind(seed2023, seed2024)
seeds$ending.weight <- as.numeric(seeds$ending.weight)
unique(seeds$Size)
seeds$Size <- gsub(" ", "", seeds$Size)
seeds$Size <- gsub("medium", "med", seeds$Size)
seeds$Year <- as.factor(seeds$Year)
seedspring <- filter(seeds, Visit == "Spring")
seeds$Site <- gsub(" ", "", seeds$Site)
br <- read.csv("Raw Data/bromesites.csv")
seeds <- left_join(seeds, br, by = "Site")
ggplot(seeds, aes(Size, ending.weight)) + facet_grid(~ brome) + geom_boxplot() + ylab("Ending weight (g)") + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_rect(colour = "black", size=1, fill = NA), axis.line = element_line(colour = "black"))
ggplot(seeds, aes(Microsite, ending.weight)) + geom_boxplot()
ggplot(seeds, aes(as.factor(Year), ending.weight, color = Visit)) + geom_boxplot()
ggplot(seeds, aes(Site, ending.weight, color = Visit)) + geom_boxplot()
library(glmmTMB)
library(emmeans)
m1 <- glmmTMB(ending.weight ~  Size *brome + (1|Year) + (1|Site), data = seeds)
summary(m1)
car::Anova(m1)
emmeans(m1, pairwise ~ Size*brome)
m1 <- glmmTMB(ending.weight ~ Microsite +Year  + Visit + Size * brome+ (1|Site), data = seeds)
summary(m1)
car::Anova(m1)
m1 <- glmmTMB(ending.weight ~ Microsite  + Size * brome+ (1|Site) + (1|Year), data = seedspring)
br <- read.csv("Raw Data/bromesites.csv")
seeds <- left_join(seeds, br, by = "Site")
ggplot(seeds, aes(Size, ending.weight)) + facet_grid(~ brome) + geom_boxplot() + ylab("Ending weight (g)") + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_rect(colour = "black", size=1, fill = NA), axis.line = element_line(colour = "black"))
View(seeds)
ggplot(seeds, aes(Size, ending.weight)) + facet_grid(~ brome.x) + geom_boxplot() + ylab("Ending weight (g)") + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_rect(colour = "black", size=1, fill = NA), axis.line = element_line(colour = "black"))
ggplot(seeds, aes(Microsite, ending.weight)) + geom_boxplot()
library(glmmTMB)
library(emmeans)
m1 <- glmmTMB(ending.weight ~  Size *brome + (1|Year) + (1|Site), data = seeds)
m1 <- glmmTMB(ending.weight ~  Size *brome.x + (1|Year) + (1|Site), data = seeds)
summary(m1)
m1 <- glmmTMB(ending.weight ~  Size *brome.x  + (1|Site), data = seeds)
summary(m1)
car::Anova(m1)
emmeans(m1, pairwise ~ Size*brome)
emmeans(m1, pairwise ~ Size*brome.x)
emmeans(m1, pairwise ~ brome.x)
emmeans(m1, pairwise ~ Size)
emmeans(m1, pairwise ~ Size|brome.x)
m1 <- glmmTMB(ending.weight ~ Microsite +Year  + Visit + Size * brome+ (1|Site), data = seeds)
m1 <- glmmTMB(ending.weight ~ Microsite +Year  + Visit + Size * brome.x+ (1|Site), data = seeds)
summary(m1)
car::Anova(m1)
library(dplyr)
library(ggplot2)
library(tidyr)
arth2 <- read.csv("Raw Data/pitfall_arth.csv")
ants <- dplyr::filter(arth2, Family == "Formicidae")
sum(ants$count)
hom <- filter(ants, site == "HOM")
View(hom)
library(dplyr)
library(ggplot2)
library(tidyr)
sites <- read.csv("Raw Data/sites.csv")
librar(sf)
library(sf)
View(sites)
coords <- data.frame(x=sites$Long,y=sites$Lat)
points <- SpatialPoints(coords, proj4string = CRS("+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs"))
library(sf)
points <- SpatialPoints(coords, proj4string = CRS("+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs"))
library(raster)
#northern sites
r <- getData("worldclim",var="bio",res=0.5, lon = sites[1,3], lat = sites[1,2])
#northern sites
r <- getData("worldclim",var="bio",res=0.5, lon = sites[1,5], lat = sites[1,4])
sites <- st_as_sf(sites, coords=c("Long","Lat"), crs=4326)
plot(sites)
st_write(sites, "studysites.shp")
#read in bioclim data from other repo
env <- terra::rast("‪F:\CH2_ant-plant_mutualism_synthesis\na_rasters.grd")
#read in bioclim data from other repo
env <- terra::rast("F:\CH2_ant-plant_mutualism_synthesis\na_rasters.grd")
#read in bioclim data from other repo
env <- terra::rast("F:/CH2_ant-plant_mutualism_synthesis/na_rasters.grd")
plot(env)
summary(env)
env
sites <- terra::extract(env, sites)
View(sites)
sites <- read.csv("Raw Data/sites.csv")
sites <- st_as_sf(sites, coords=c("Long","Lat"), crs=4326)
plot(sites)
st_write(sites, "studysites.shp")
climsites <- terra::extract(env, sites)
sites <- cbind(climsites, sites)
